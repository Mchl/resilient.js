{"version":3,"sources":["resilient.js"],"names":["e","exports","module","define","amd","f","window","global","self","resilient","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"root","factory","http","lil","this","VERSION","toStr","Object","prototype","toString","slicer","Array","slice","hasOwn","hasOwnProperty","origin","location","originRegex","hasDomainRequest","XDomainRequest","defaults","method","timeout","auth","headers","async","withCredentials","responseType","isObj","isArr","extend","target","x","cur","args","arguments","setHeaders","xhr","defaultContent","field","setRequestHeader","getHeaders","map","getAllResponseHeaders","split","forEach","header","trim","parseData","data","contentType","getResponseHeader","responseText","JSON","parse","response","buildResponse","status","buildErrorResponse","error","message","stack","onError","cb","called","err","onLoad","readyState","isCrossOrigin","url","match","createClient","config","toUpperCase","XMLHttpRequest","open","user","password","updateProgress","ev","evt","lengthComputable","loaded","total","request","progress","stringify","errorHandler","onload","onerror","ontimeout","onabort","onprogress","send","requestFactory","options","TypeError","apply","get","post","put","del","patch","head",2,"_","Cache","_resilient","buf","flush","key","set","value","updated","now","keys","name","./utils",3,"resolver","Client","path","normalizeArgs","concat","mergeHttpOptions","noop","getHttpOptions","./resolver",4,"service","servers","cache","retry","retryUpdate","refresh","cacheExpiration","balancer","enable","roundRobin","weight","latency","discovery","retryWait","parallel","resilientOptions",5,"ResilientError","Servers","Requester","DiscoveryResolver","getOptions","isUpdating","_updating","_queue","hasDiscoveryServers","exists","push","updateServers","fetchServers","addTimeStamp","updateServersInParallel","onUpdateServers","sort","server","index","onUpdate","res","isEmptyBuffer","splice","closePendingRequests","client","close","indexOf","Math","floor","random","abort","filter","./error","./requester","./servers",6,"DiscoveryServers","defineServers","isValidResponse","setServers",7,"MESSAGES",1000,1001,1002,1003,1004,1005,1006,"create",8,"resolveModule","requestWrapper","body","mapResponse","statusCode","isJSONContent","../bower_components/lil-http/http",9,"Resilient","Options","ResilientFactory","./client","./defaults","./options","./resilient",10,"type","store","clone","getRaw","each","bind","undefined","omit","defaultOptions","defineDefaults",11,"getServersList","operation","enabled","getOperation","serversList","next","previousError","handler","shift","requestHandler","join","basePath","sendRequest","handleMissingServers","delayRetry","delay","getDiscoveryServers","start","isUnavailableStatus","reportError","report","isInvalidStatus","./discovery-servers","./http",12,"VERBS","_client","_cache","setOptions","setDiscoveryOptions","setClientOptions","getServers","setDiscoveryServers","list","flushCache","areServersUpdated","lastUpdate","defineMethodProxy","verb","./cache",13,"Resolver","resolve","nextResolve","hasServers","valid","./discovery-resolver",14,"Server","setStats","stats","getStats","calculateAvgLatency","getBalance","balance","round","read","createStats","write","number",15,"uriRegex","y","find","mapServers","empty","isValidURI","uri","test","mapServer","./server",16,"isArrayNative","isArray","Function","Date","getTime","ctx","fn","obj","pick","ms","setTimeout","base","part",17],"mappings":"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"}