{"version":3,"sources":["resilient.js"],"names":["e","exports","module","define","amd","f","window","global","self","resilient","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"root","factory","http","lil","this","VERSION","toStr","Object","prototype","toString","slicer","Array","slice","hasOwn","hasOwnProperty","origin","location","originRegex","jsonMimeRegex","hasDomainRequest","XDomainRequest","noop","defaults","method","timeout","auth","data","headers","withCredentials","responseType","isObj","extend","target","x","cur","args","arguments","setHeaders","xhr","defaultContent","field","setRequestHeader","getHeaders","rawHeaders","getAllResponseHeaders","trim","split","forEach","header","key","shift","value","join","isJSONResponse","test","getResponseHeader","encodeParams","params","getOwnPropertyNames","filter","name","undefined","map","encodeURIComponent","replace","parseData","readyState","responseText","JSON","parse","response","buildResponse","status","buildErrorResponse","error","message","stack","onError","cb","called","err","onLoad","isCrossOrigin","url","match","getURL","config","indexOf","XHRFactory","XMLHttpRequest","createClient","toUpperCase","open","user","password","updateProgress","ev","evt","lengthComputable","loaded","total","request","progress","isArray","stringify","errorHandler","onload","onerror","ontimeout","onabort","onprogress","send","requestFactory","options","apply","get","post","put","del","patch","head",2,"_","Cache","store","flush","clone","time","exists","isArr","set","now","./utils",3,"resolver","Client","_resilient","path","normalizeArgs","requester","delete","emit","isFullUrlSchema","plainHttpRequest","mergeHttpOptions","wrapCallback","once","finalHandler","res","merge","isURI","_httpClient","./http","./resolver",4,"service","servers","retry","retryWait","discoverBeforeRetry","promiscuousErrors","balancer","enable","roundRobin","roundRobinSize","weight","success","latency","discovery","cache","parallel","cacheExpiration","refreshInterval","enableRefreshServers","refreshServersInterval","refreshServers","refreshOptions","refreshPath","useDiscoveryServersToRefresh","resilientOptions",5,"ResilientError","Servers","Requester","DiscoveryServers","ServersDiscovery","DiscoveryResolver","finish","dispatchQueue","updateServers","_updating","_queue","dispatcher","splice","resolve","push","update","fetch","handler","./discovery-servers","./error","./requester","./servers","./servers-discovery",6,"saveServers","setServers","refreshCache","handlerError","isCacheEnabled","resolveFromCache","resolveWithError","getCache","hasValidCache","_cache","valid","expires","defineServers","isValidResponse","parseAsJSON",7,"MESSAGES",1000,1001,1002,1003,1004,1005,1006,"create",8,"resolveModule","JSON_MIME","client","mapResponse","requestWrapper","mapOptions","body","statusCode","isJSONContent","setUserAgent","qs","mapRequestBody","getUserAgent","LIBRARY_VERSION","json","../bower_components/lil-http/http",9,"Resilient","Options","ResilientFactory","CLIENT_VERSION","./client","./defaults","./options","./resilient",10,"type","each","bind","omit","getRaw","defaultOptions","keys","defineDefaults","buf",11,"getServersList","operation","sort","getOperation","serversList","requestNextServer","previousError","server","basePath","requestHandler","sendRequest","handleMissingServers","waitBeforeRetry","hasDiscoveryServers","updateAndRetry","delay","nextServer","start","requestReporter","isErrorResponse","reportError","report","resolveRequest","getHttpClient","onRetry","resolution","isErrorStatus","isUnavailableStatus","isInvalidStatus","checkResponseStatus",12,"EventBus","_client","_options","discoveryOptions","serviceOptions","getHttpOptions","discoveryServers","list","getUpdatedServers","latestServers","discoverServers","urls","flushCache","useHttpClient","restoreHttpClient","areServersUpdated","lastUpdate","mock","mockFn","unmock","defineMethodProxy","verb","./cache","./discovery-resolver","lil-event",13,"Resolver","next","hasDiscoveryServersOutdated","updateDiscoveryServers","hasValidServers","updateServersFromDiscovery","getRefreshServers","getRefreshOptions","onRefreshServers","refreshDiscoveryServers","outdated","serversAreUpdated","updated","handleResolution","getRefreshBasePath",14,"arr","size","getRandom","ps","k","j","rs","pop","max","Math","round","random",15,"balancerOptions","Server","statsStore","createServerStats","stats","calculateAvgLatency","balance","calculateStatsBalance","read","createStats","write","getWeightAvg","number",16,"getOptions","getServers","fetchServers","addTimeStamp","updateServersInParallel","onUpdateServers","index","concat","onUpdateInParallel","closePendingRequests","floor","_time","isEmptyBuffer","closePendingRequest","closeClient","abort",17,"RoundRobin","forceUpdate","y","roundRobinSort","find","mapServers","empty","isValidURI","uri","mapServer","./roundrobin","./server",18,"Function","isArrayNative","uriRegex","Date","getTime","ctx","fn","obj","ms","setTimeout","str","base","part","objIterator","extender","merger","iterator","iterateEachArgument",19,20,"Event","constructor","addListener","on","event","TypeError","findListener","getListeners","removeListener","off","listeners","listener","addOnceListener","fire","removeAllListeners","offAll","_events","events","getEvents"],"mappings":"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"}