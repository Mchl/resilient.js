{"version":3,"sources":["resilient.js"],"names":["e","exports","module","define","amd","f","window","global","self","resilient","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","_","Cache","this","store","Object","create","prototype","flush","key","emptyObject","get","clone","set","data","time","now","value","exists","isObj","isArr","./utils","2","resolver","http","Client","_resilient","path","options","cb","send","post","put","del","delete","patch","head","method","args","normalizeArgs","opts","callback","promise","Promise","resolve","reject","emit","requester","apply","err","res","bind","noop","then","catch","isFullUrlSchema","plainHttpRequest","arguments","mergeHttpOptions","wrapCallback","once","finalRequestHandler","defaults","timeout","$timeout","merge","isURI","url","_httpClient","fn","called","./http","./resolver","3","service","timeouts","servers","retry","waitBeforeRetry","discoverBeforeRetry","promiscuousErrors","omitRetryWhen","omitFallbackWhen","omitRetryOnMethods","omitFallbackOnMethods","omitRetryOnErrorCodes","omitFallbackOnErrorCodes","balancer","enable","random","roundRobin","roundRobinSize","balanceStrategy","disableWeight","weight","success","error","latency","discovery","parallel","cacheEnabled","cacheExpiration","refreshInterval","enableRefreshServers","enableSelfRefresh","forceRefreshOnStart","refreshServersInterval","refreshServers","refreshOptions","refreshPath","resilientOptions","4","Servers","Requester","ResilientError","CONCURRENCY","ServersDiscovery","middleware","_middleware","getOptions","getServers","hasDiscoveryServers","updateServersInParallel","buf","sort","pending","counter","onServersUpdateFn","onUpdateServers","onUpdateInParallelFn","onUpdateInParallel","slice","forEach","server","index","pool","concat","updateServers","next","fetchServers","params","addTimeStamp","run","handler","total","decrement","reset","extend","qs","_time","closeAndEmptyPendingRequests","isEmptyBuffer","closePendingRequest","splice","client","xhr","readyState","closeClient","abort","filter","request","./error","./requester","./servers","5","MESSAGES","1000","1001","1002","1003","1004","1005","1006","1007","status","stack","message","6","Evaluator","strategies","add","strategy","push","eval","some","7","IS_BROWSER","JSON_MIME","resolveModule","HttpClient","VERSION","mapResponse","body","statusCode","isJSONContent","JSON","parse","test","headers","mapOptions","mapRequestBody","defineUserAgent","getUserAgent","LIBRARY_VERSION","json","requestWrapper","lil-http","8","Options","Resilient","CLIENT_VERSION","./client","./defaults","./options","./resilient","9","midware","hooks","Middleware","createPool","use","middlewares","toArr","isFn","map","passArgs","register","type","hook","hooksMiddleware","in","out","mw","10","omit","getRaw","setServers","each","undefined","defaultOptions","keys","11","operation","getOperation","serversList","getServersList","requestNextServer","previousError","shift","defineRequestOptions","requestHandler","resolveRequest","sendRequest","handleMissingServers","getPreviousResponse","cachedPreviousResponse","responseObj","getFirstValue","shouldOmitRetryCycle","retryRequest","onRetry","retrier","updateDiscoveryServersAndRetry","delay","nextServer","getTime","timer","requestReporter","shouldOmitFallback","reportError","isErrorResponse","memoizeResponse","report","getHttpClient","mapAndResolve","resolution","join","basePath","getTimeout","toLowerCase","arr","v","pop","_sync","unlock","DiscoveryResolver","update","shouldOmitOnErrorCode","shouldOmitOnMethod","shouldOmitWhenRules","shouldOmitFallbackOnErrorCode","shouldOmitFallbackOnMethod","methods","rules","ruleFilter","rule","matchRuleMethod","matchRuleStatusCode","matchHttpMethod","codes","indexOf","toUpperCase","m","trim","isUnavailableStatus","_failStrategies","isErrorStatus","isInvalidStatus","checkResponseStatus","12","EventBus","Sync","cache","_client","_options","list","serversURL","urls","discoveryServers","resetScore","resetStats","latestServers","getUpdatedServers","discoverServers","discoveryOptions","serviceOptions","httpOptions","useHttpClient","restoreHttpClient","serversUpdated","updated","lastUpdate","refresh","mock","mockFn","unmock","failStrategy","addFailStrategy","defineMethodProxy","verb","./cache","./evaluator","./middleware","./resolvers/discovery","./sync","lil-event","13","Resolver","wrapHandler","sync","hasDiscoveryServersOutdated","updateDiscoveryServers","hasValidServiceServers","updateServiceServers","getRefreshServers","getRefreshOptions","locked","enqueue","onRefreshServers","lock","dequeue","mErr","refreshDiscoveryServers","outdated","canUpdateDiscoveryServers","serversAreUpdated","interval","handleResolution","_cache","getRefreshBasePath","./discovery","14","ServiceResolve","fetch","fetchHandler","../discovery","../error","../requester","./service","15","isCacheEnabled","getCache","name","saveServers","refreshCache","errorHandler","resolveFromCache","resolveWithError","hasValidCache","expires","handleResponse","done","isValidResponse","defineServers","valid","parseAsJSON","../utils","16","roundRobinSerie","size","max","rounds","ps","k","j","rs","17","balancerOptions","Server","stats","calculateAvgLatency","balance","log","calculateStatsBalance","field","statsStore","createServerStats","read","createStats","write","toFixed","console.table","18","RoundRobin","mapServers","empty","x","y","shuffle","roundRobinSort","find","isValidURI","uri","mapServer","array","Math","temp","configSize","./roundrobin","./server","19","locks","queues","state","getSync","task","queue","20","toStr","toString","Array","hasOwn","hasOwnProperty","Function","isArrayNative","isArray","uriRegex","Date","startTime","ctx","obj","ms","setTimeout","str","base","notEmpty","objIterator","extender","merger","target","iterator","eachArgument","21","lookup","Arr","Uint8Array","PLUS","charCodeAt","SLASH","NUMBER","LOWER","UPPER","decode","elt","b64ToByteArray","b64","tmp","placeHolders","len","charAt","L","uint8ToBase64","uint8","extraBytes","output","encode","num","tripletToBase64","toByteArray","fromByteArray","base64js","22","23","base64","ieee754","Buffer","SlowBuffer","INSPECT_MAX_BYTES","poolSize","kMaxLength","TYPED_ARRAY_SUPPORT","ArrayBuffer","foo","subarray","byteLength","subject","encoding","noZero","base64clean","floor","TypeError","RangeError","_augment","_isBuffer","_set","isArrayish","isBuffer","readUInt8","b","compare","min","isEncoding","String","totalLength","pos","item","copy","ret","utf8ToBytes","base64ToBytes","parent","start","end","loweredCase","Infinity","hexSlice","utf8Slice","asciiSlice","binarySlice","base64Slice","utf16leSlice","equals","inspect","match","offset","console","writeUInt8","hexWrite","string","Number","remaining","strLen","byte","parseInt","substr","isNaN","utf8Write","charsWritten","blitBuffer","asciiWrite","asciiToBytes","binaryWrite","base64Write","utf16leWrite","utf16leToBytes","isFinite","swap","toJSON","_arr","decodeUtf8Char","fromCharCode","toHex","bytes","sliceLen","newBuf","checkOffset","ext","noAssert","readUInt16LE","readUInt16BE","readUInt32LE","readUInt32BE","readInt8","readInt16LE","val","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","checkInt","objectWriteUInt16","littleEndian","writeUInt16LE","writeUInt16BE","objectWriteUInt32","writeUInt32LE","writeUInt32BE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","checkIEEE754","writeFloat","writeFloatLE","writeFloatBE","writeDouble","writeDoubleLE","writeDoubleBE","target_start","source","fill","toArrayBuffer","buffer","BP","constructor","_get","toLocaleString","INVALID_BASE64_RE","stringtrim","replace","byteArray","h","encodeURIComponent","split","c","hi","lo","src","dst","unitSize","decodeURIComponent","base64-js","is-array","24","circular","depth","allParents","allChildren","useBuffer","_clone","child","proto","__isArray","__isRegExp","RegExp","__getRegExpFlags","lastIndex","__isDate","getPrototypeOf","attrs","getOwnPropertyDescriptor","clonePrototype","__objToStr","re","flags","ignoreCase","multiline","25","setupConsoleTable","table","consoleTable","isType","isString","isArrayOf","isTypeFn","every","isArrayOfStrings","isArrayOfArrays","Table","arrayToString","record","cell","property","newRow","printTableWithColumnTitles","titles","items","printTitleTable","title","rowLength","sep","line","objectToArray","objectToString","easy-table","26","27","wcwidth","rows","row","__printers","col","printer","separator","leftPadder","ch","width","pad","padLeft","rightPadder","padRight","number","digits","columns","cols","idx","print","widths","pushDelimeter","totals","forEachTotal","aggr","acc","init","reduce","printTransposed","namePrinter","cmp","comparators","order","exec","sum","prefix","avg","format","28","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","d","NaN","pow","rt","abs","LN2","29","30","root","factory","Event","lil","addListener","on","event","findListener","getListeners","removeListener","off","listeners","listener","addOnceListener","fire","removeAllListeners","offAll","_events","events","getEvents","31","slicer","hasBind","origin","location","originRegex","jsonMimeRegex","hasDomainRequest","XDomainRequest","auth","withCredentials","responseType","assign","cur","setHeaders","defaultContent","lowerField","setRequestHeader","getHeaders","rawHeaders","getAllResponseHeaders","header","isJSONResponse","getResponseHeader","encodeParams","getOwnPropertyNames","parseData","responseText","response","getStatus","buildResponse","statusText","buildErrorResponse","cleanReferences","onreadystatechange","onerror","ontimeout","isValidResponseStatus","onError","onLoad","config","ev","isCrossOrigin","getURL","XHRFactory","XMLHttpRequest","createClient","open","user","password","updateProgress","lengthComputable","loaded","hasContentTypeHeader","buildPayload","stringify","timeoutResolver","timeoutId","clearTimeout","progress","onprogress","requestFactory","32","calls","toArray","runNext","remove","nargs","33","34","combining","DEFAULTS","nul","control","wcswidth","ucs","bisearch","mid","./combining"],"mappings":"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"}