{"version":3,"sources":["resilient.js"],"names":["e","exports","module","define","amd","f","window","global","self","resilient","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"root","factory","http","lil","this","VERSION","toStr","Object","prototype","toString","slicer","Array","slice","hasOwn","hasOwnProperty","origin","location","originRegex","jsonMimeRegex","hasDomainRequest","XDomainRequest","noop","defaults","method","timeout","auth","headers","async","withCredentials","responseType","isObj","extend","target","x","cur","args","arguments","setHeaders","xhr","defaultContent","field","setRequestHeader","getHeaders","map","getAllResponseHeaders","split","forEach","header","trim","isJSONResponse","test","getResponseHeader","encodeParams","params","getOwnPropertyNames","filter","name","undefined","value","encodeURIComponent","join","replace","parseData","data","responseText","JSON","parse","response","buildResponse","status","buildErrorResponse","error","message","stack","onError","cb","called","err","onLoad","readyState","isCrossOrigin","url","match","getURL","config","indexOf","XHRFactory","XMLHttpRequest","createClient","toUpperCase","open","user","password","updateProgress","ev","evt","lengthComputable","loaded","total","request","progress","isArray","stringify","errorHandler","onload","onerror","ontimeout","onabort","onprogress","send","requestFactory","options","apply","get","post","put","del","patch","head",2,"_","Cache","store","flush","key","clone","time","exists","isArr","set","now","./utils",3,"resolver","Client","_resilient","path","normalizeArgs","emit","requester","isFullUrl","plainHttpRequest","mergeHttpOptions","wrapCallback","once","res","getOptions","merge","isURI","./http","./resolver",4,"service","servers","retry","retryWait","discoverBeforeRetry","promiscuousErrors","balancer","enable","roundRobin","roundRobinSize","weight","success","latency","discovery","cache","refreshInterval","enableRefreshServers","refreshServersInterval","refreshServers","parallel","cacheExpiration","resilientOptions",5,"ResilientError","Servers","Requester","DiscoveryServers","DiscoveryResolver","getServers","isUpdating","_updating","hasDiscoveryServers","_queue","push","updateServers","fetchServers","addTimeStamp","updateServersInParallel","onUpdateServers","buf","sort","server","index","concat","onUpdateInParallel","dispatchQueue","closePendingRequests","splice","isEmptyBuffer","client","close","update","fetch","Math","floor","random","qs","_time","abort","./discovery-servers","./error","./requester","./servers",6,"defineServers","handlerError","isValidResponse","saveServers","setServers","refreshCache","isCacheEnabled","resolveFromCache","resolveWithError","getCache","hasValidCache","_cache","valid","expires",7,"MESSAGES",1000,1001,1002,1003,1004,1005,1006,"create",8,"resolveModule","mapResponse","requestWrapper","setUserAgent","mapRequestBody","body","statusCode","isJSONContent","getUserAgent","LIBRARY_VERSION","json","../bower_components/lil-http/http",9,"Resilient","Options","ResilientFactory","CLIENT_VERSION","./client","./defaults","./options","./resilient",10,"type","getRaw","each","bind","omit","defaultOptions","keys","defineDefaults",11,"getServersList","operation","getOperation","serversList","next","previousError","shift","basePath","sendRequest","requestHandler","handleMissingServers","delayRetry","delay","start","isErrorResponse","reportError","report","resolve","isErrorStatus","isUnavailableStatus","handler","getHttpClient","_httpClient","isInvalidStatus","checkResponseStatus",12,"EventBus","_options","_client","setOptions","setDiscoveryOptions","setServiceOptions","getHttpOptions","discoveryServers","list","discoverServers","getUpdatedServers","getLatestServers","urls","flushCache","setHttpClient","restoreHttpClient","areServersUpdated","lastUpdate","mock","mockFn","unmock","VERBS","defineMethodProxy","verb","./cache","./discovery-resolver","lil-event",13,"Resolver","hasValidServers","updateDiscoveryServers","serversAreUpToDate","handleResolution",14,"arr","size","getRandom","ps","k","j","rs","pop","max","round",15,"Server","setStats","stats","getStats","calculateAvgLatency","getBalance","applyOptions","calculateStatsBalance","read","createStats","write","getWeightAvg","number",16,"RoundRobin","updated","force","y","roundRobinSort","find","mapServers","empty","forceUpdate","isValidURI","uri","mapServer","./roundrobin","./server",17,"Function","isArrayNative","uriRegex","Date","getTime","ctx","fn","obj","objIterator","extender","merger","ms","setTimeout","str","base","part","iterator","eachArgument",18,19,"Event","constructor","addListener","on","event","TypeError","findListener","getListeners","removeListener","off","listeners","listener","addOnceListener","fire","removeAllListeners","offAll","_events","events","getEvents"],"mappings":"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"}