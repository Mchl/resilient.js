{"version":3,"sources":["resilient.js"],"names":["e","exports","module","define","amd","f","window","global","self","resilient","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"root","factory","http","lil","this","VERSION","toStr","Object","prototype","toString","slicer","Array","slice","hasOwn","hasOwnProperty","origin","location","originRegex","jsonMimeRegex","hasDomainRequest","XDomainRequest","noop","defaults","method","timeout","auth","headers","async","withCredentials","responseType","isObj","extend","target","x","cur","args","arguments","setHeaders","xhr","defaultContent","field","setRequestHeader","getHeaders","map","getAllResponseHeaders","split","forEach","header","trim","isJSONResponse","test","getResponseHeader","encodeParams","params","getOwnPropertyNames","filter","name","undefined","value","encodeURIComponent","join","replace","parseData","data","responseText","JSON","parse","response","buildResponse","status","buildErrorResponse","error","message","stack","onError","cb","called","err","onLoad","readyState","isCrossOrigin","url","match","getURL","config","indexOf","XHRFactory","XMLHttpRequest","createClient","toUpperCase","open","user","password","updateProgress","ev","evt","lengthComputable","loaded","total","request","progress","isArray","stringify","errorHandler","onload","onerror","ontimeout","onabort","onprogress","send","requestFactory","options","apply","get","post","put","del","patch","head",2,"_","Cache","store","flush","key","clone","time","exists","isArr","set","now","./utils",3,"resolver","Client","_resilient","path","normalizeArgs","emit","requester","delete","isFullUrl","plainHttpRequest","mergeHttpOptions","wrapCallback","once","res","getOptions","merge","isURI","./http","./resolver",4,"service","servers","retry","retryWait","discoverBeforeRetry","promiscuousErrors","balancer","enable","roundRobin","roundRobinSize","weight","success","latency","discovery","cache","refreshInterval","enableRefreshServers","refreshServersInterval","refreshServers","parallel","cacheExpiration","resilientOptions",5,"ResilientError","Servers","Requester","DiscoveryServers","DiscoveryResolver","getServers","isUpdating","_updating","hasDiscoveryServers","_queue","push","updateServers","fetchServers","addTimeStamp","updateServersInParallel","onUpdateServers","buf","sort","server","index","concat","onUpdateInParallel","dispatchQueue","closePendingRequests","splice","isEmptyBuffer","client","close","update","fetch","Math","floor","random","qs","_time","abort","./discovery-servers","./error","./requester","./servers",6,"defineServers","handler","handlerError","isValidResponse","saveServers","setServers","refreshCache","isCacheEnabled","resolveFromCache","resolveWithError","getCache","hasValidCache","_cache","valid","expires",7,"MESSAGES",1000,1001,1002,1003,1004,1005,1006,"create",8,"resolveModule","JSON_MIME","mapResponse","requestWrapper","setUserAgent","mapRequestBody","body","statusCode","isJSONContent","getUserAgent","LIBRARY_VERSION","json","../bower_components/lil-http/http",9,"Resilient","Options","ResilientFactory","CLIENT_VERSION","./client","./defaults","./options","./resilient",10,"type","each","bind","omit","getRaw","defaultOptions","keys","defineDefaults",11,"getServersList","operation","getOperation","serversList","nextServer","previousError","shift","basePath","sendRequest","requestHandler","handleMissingServers","delayRetry","delay","start","isErrorResponse","reportError","report","resolve","isErrorStatus","isUnavailableStatus","getHttpClient","_httpClient","isInvalidStatus","checkResponseStatus",12,"EventBus","_options","_client","setOptions","setDiscoveryOptions","setServiceOptions","getHttpOptions","discoveryServers","list","discoverServers","getUpdatedServers","getLatestServers","urls","flushCache","setHttpClient","restoreHttpClient","areServersUpdated","lastUpdate","mock","mockFn","unmock","VERBS","defineMethodProxy","verb","./cache","./discovery-resolver","lil-event",13,"Resolver","next","hasValidServers","updateDiscoveryServers","serversAreUpToDate","handleResolution",14,"arr","size","getRandom","ps","k","j","rs","pop","max","round",15,"Server","setStats","stats","getStats","calculateAvgLatency","getBalance","applyOptions","calculateStatsBalance","read","createStats","write","getWeightAvg","number",16,"RoundRobin","updated","force","y","roundRobinSort","find","mapServers","empty","forceUpdate","isValidURI","uri","mapServer","./roundrobin","./server",17,"Function","isArrayNative","uriRegex","Date","getTime","ctx","fn","obj","objIterator","extender","merger","ms","setTimeout","str","base","part","iterator","eachArgument",18,19,"Event","constructor","addListener","on","event","TypeError","findListener","getListeners","removeListener","off","listeners","listener","addOnceListener","fire","removeAllListeners","offAll","_events","events","getEvents"],"mappings":"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"}