{"version":3,"sources":["resilient.js"],"names":["e","exports","module","define","amd","f","window","global","self","resilient","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"root","factory","http","lil","this","VERSION","toStr","Object","prototype","toString","slicer","Array","slice","hasOwn","hasOwnProperty","origin","location","originRegex","jsonMimeRegex","hasDomainRequest","XDomainRequest","noop","defaults","method","timeout","auth","headers","async","withCredentials","responseType","isObj","extend","target","x","cur","args","arguments","setHeaders","xhr","defaultContent","field","setRequestHeader","getHeaders","rawHeaders","getAllResponseHeaders","trim","split","forEach","header","key","shift","value","join","isJSONResponse","test","getResponseHeader","encodeParams","params","getOwnPropertyNames","filter","name","undefined","map","encodeURIComponent","replace","parseData","data","responseText","JSON","parse","response","buildResponse","status","buildErrorResponse","error","message","stack","onError","cb","called","err","onLoad","readyState","isCrossOrigin","url","match","getURL","config","indexOf","XHRFactory","XMLHttpRequest","createClient","toUpperCase","open","user","password","updateProgress","ev","evt","lengthComputable","loaded","total","request","progress","isArray","stringify","errorHandler","onload","onerror","ontimeout","onabort","onprogress","send","requestFactory","options","apply","get","post","put","del","patch","head",2,"_","Cache","store","flush","clone","time","exists","isArr","set","now","./utils",3,"resolver","Client","_resilient","path","normalizeArgs","requester","delete","emit","isFullUrlSchema","plainHttpRequest","mergeHttpOptions","wrapCallback","once","finalHandler","res","merge","isURI","./http","./resolver",4,"service","servers","retry","retryWait","discoverBeforeRetry","promiscuousErrors","balancer","enable","roundRobin","roundRobinSize","weight","success","latency","discovery","cache","parallel","cacheExpiration","refreshInterval","enableRefreshServers","refreshServersInterval","refreshServers","refreshOptions","refreshPath","useDiscoveryServersToRefresh","resilientOptions",5,"ResilientError","Servers","Requester","DiscoveryServers","ServersDiscovery","DiscoveryResolver","finish","dispatchQueue","updateServers","_updating","_queue","dispatcher","splice","resolve","push","update","fetch","handler","./discovery-servers","./error","./requester","./servers","./servers-discovery",6,"saveServers","setServers","refreshCache","handlerError","isCacheEnabled","resolveFromCache","resolveWithError","getCache","hasValidCache","_cache","valid","expires","defineServers","isValidResponse","parseAsJSON",7,"MESSAGES",1000,1001,1002,1003,1004,1005,1006,"create",8,"resolveModule","JSON_MIME","client","mapResponse","requestWrapper","mapOptions","body","statusCode","isJSONContent","setUserAgent","qs","mapRequestBody","getUserAgent","LIBRARY_VERSION","json","../bower_components/lil-http/http",9,"Resilient","Options","ResilientFactory","CLIENT_VERSION","./client","./defaults","./options","./resilient",10,"type","each","bind","omit","getRaw","defaultOptions","keys","defineDefaults","buf",11,"getServersList","operation","sort","getOperation","serversList","requestNextServer","previousError","server","basePath","requestHandler","sendRequest","handleMissingServers","waitBeforeRetry","hasDiscoveryServers","updateAndRetry","delay","nextServer","start","requestReporter","isErrorResponse","reportError","report","getHttpClient","onRetry","_httpClient","isErrorStatus","isUnavailableStatus","isInvalidStatus","checkResponseStatus",12,"EventBus","_client","_options","discoveryOptions","serviceOptions","getHttpOptions","discoveryServers","list","getUpdatedServers","latestServers","discoverServers","urls","flushCache","useHttpClient","restoreHttpClient","areServersUpdated","lastUpdate","mock","mockFn","unmock","defineMethodProxy","verb","./cache","./discovery-resolver","lil-event",13,"Resolver","next","hasDiscoveryServersOutdated","updateDiscoveryServers","hasValidServers","updateServersFromDiscovery","getRefreshServers","getRefreshOptions","onRefreshServers","refreshDiscoveryServers","outdated","serversAreUpdated","updated","handleResolution","getRefreshBasePath",14,"arr","size","getRandom","ps","k","j","rs","pop","max","Math","round","random",15,"balancerOptions","Server","statsStore","createServerStats","stats","calculateAvgLatency","balance","calculateStatsBalance","read","createStats","write","getWeightAvg","number",16,"getOptions","getServers","fetchServers","addTimeStamp","updateServersInParallel","onUpdateServers","index","concat","onUpdateInParallel","closePendingRequests","floor","_time","isEmptyBuffer","closePendingRequest","closeClient","abort",17,"RoundRobin","forceUpdate","y","roundRobinSort","find","mapServers","empty","isValidURI","uri","mapServer","./roundrobin","./server",18,"Function","isArrayNative","uriRegex","Date","getTime","ctx","fn","obj","ms","setTimeout","str","base","part","objIterator","extender","merger","iterator","iterateEachArgument",19,20,"Event","constructor","addListener","on","event","TypeError","findListener","getListeners","removeListener","off","listeners","listener","addOnceListener","fire","removeAllListeners","offAll","_events","events","getEvents"],"mappings":"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"}