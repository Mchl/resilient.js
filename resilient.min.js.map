{"version":3,"sources":["resilient.js"],"names":["e","exports","module","define","amd","f","window","global","self","resilient","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"root","factory","http","lil","this","VERSION","toStr","Object","prototype","toString","slicer","Array","slice","origin","location","originRegex","defaults","method","timeout","auth","headers","async","withCredentials","responseType","isObj","isArr","extend","target","x","cur","args","arguments","hasOwnProperty","setHeaders","xhr","defaultContent","field","setRequestHeader","getHeaders","map","getAllResponseHeaders","split","forEach","header","trim","parseData","data","content","getResponseHeader","responseText","JSON","parse","response","buildResponse","status","buildErrorResponse","error","onError","cb","called","err","onLoad","readyState","isCrossOrigin","url","match","createClient","config","toUpperCase","XDomainRequest","XMLHttpRequest","open","user","password","updateProgress","ev","evt","lengthComputable","loaded","total","request","progress","stringify","errorHandler","onload","onerror","ontimeout","onabort","onprogress","send","requestFactory","options","apply","get","post","put","del","patch","head",2,"Servers","Resilient","httpOptions","ResilientClient","push","concat","handler","isUnavailable","resolver","res","balanceOptions","callClient","../bower_components/lil-http/http","./server",3,"Server","uri","stats","read","write","report","operation","type","latency","getStats","getBalance","avgLatency","getLatency","getURI"],"mappings":"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"}